# LaravelMovie Docker Setup

This project uses Docker Compose to run the Laravel API, Vue.js frontend, and Dragonfly (Redis-compatible datastore).

## Prerequisites

- Docker
- Docker Compose

## Getting Started

1. **Generate Laravel Application Key**
   ```bash
   # Generate a key first
   cd api
   php artisan key:generate --show
   ```
   Copy the generated key and add it to the root `.env` file as `APP_KEY=...`

2. **Start the containers**
   ```bash
   docker-compose up -d
   ```

3. **Run Laravel migrations** (if needed)
   ```bash
   docker-compose exec api php artisan migrate
   ```

4. **Access the application**
   - Frontend: http://localhost:5173
   - API: http://localhost:8000
   - Dragonfly: localhost:6379
   - MySQL: localhost:3306

## Services

- **api**: Laravel application (port 8000)
- **frontend**: Vue.js application (port 5173)
- **dragonfly**: Redis-compatible cache/session store (port 6379)
- **mysql**: MySQL 8.0 database (port 3306)

## Useful Commands

```bash
# View logs
docker-compose logs -f

# Stop all containers
docker-compose down

# Rebuild containers
docker-compose up -d --build

# Access API container shell
docker-compose exec api bash

# Access Frontend container shell
docker-compose exec frontend sh

# Run Laravel artisan commands
docker-compose exec api php artisan [command]

# Run npm commands in frontend
docker-compose exec frontend npm [command]
```

## Environment Variables

Configure these in the root `.env` file:

- `APP_KEY`: Laravel application key
- `DB_PASSWORD`: MySQL root password (default: secret)
- `DB_DATABASE`: Database name (default: api)
- `REDIS_PASSWORD`: Dragonfly/Redis password (optional)
